<!doctype html>
<html xmlns:th="https://www.thymeleaf.org">
<head>
<title th:text="${type.name()}" />
<link rel="stylesheet" type="text/css"
	th:href="@{/webjars/bootstrap/dist/css/bootstrap.min.css}" />
<script th:src="@{/webjars/bootstrap/dist/js/bootstrap.min.js}"></script>
<script th:src="@{/webjars/jquery/jquery.min.js}"></script>
</head>
<body>
    <header th:insert="~{fragments/general.html :: header}"> </header>
	<div class="container-fluid border">
		<div class="row border">
			<div class="col">
				<a 	th:if="${prvType != null}"
					th:href="${@typeHTMLController.typeUrl(prvType)}"
					th:text="${prvType.name()}" />
			</div>
			<div class="col-6">
				category : <a
					th:if="${category != null}"
					th:href="${@categoryHTMLController.categoryUrl(category)}"
					th:text="${category.name}" /><br />
				group : <a
					th:if="${group != null}"
					th:href="${@groupHTMLController.groupUrl(group)}"
					th:text="${group.name}" /><br />
				market group : <a
					th:if="${marketGroup != null}"
					th:href="${@marketGroupHTMLController.marketGroupUrl(marketGroup)}"
					th:text="${marketGroup.name}" /><br />
				<h1 th:text="${type.name()}" />
			</div>
			<div class="col">
				<a 	th:if="${nxtType != null}"
					th:href="${@typeHTMLController.typeUrl(nxtType)}"
					th:text="${nxtType.name()}" />
			</div>
		</div>
		<div class="row border">
			<div class="col">
				<h3>Prices</h3>
				<span>
					<a
						th:href="${@marketHTMLController.typeUrl(type)}">orders</a>
				</span>
				<table class="table table-striped table-hover">
					<tbody>
						<tr th:if="${jitaso!=null}">
							<td>Jita SO</td>
							<td><span th:text="${jitaso}"></span></td>
						</tr>
						<tr th:if="${jitabo!=null}">
							<td>Jita BO</td>
							<td><span th:text="${jitabo}"></span></td>
						</tr>
						<tr th:if="${average!=null}">
							<td>average</td>
							<td><span th:text="${average}"></span></td>
						</tr>
						<tr th:if="${adjusted!=null}">
							<td>adjusted</td>
							<td><span th:text="${adjusted}"></span></td>
						</tr>
						<tr th:if="${eiv!=null}">
							<td>eiv</td>
							<td><span th:text="${eiv}"></span></td>
						</tr>
						<tr th:if="${bpeiv!=null}">
							<td>blueprint eiv</td>
							<td><span th:text="${bpeiv}"></span></td>
						</tr>
					</tbody>
				</table>
			</div>
			<div class="col" th:if="${regionSell!=null && !regionSell.isEmpty()}">
				<h3>regional sell</h3>
				<table class="table table-striped table-hover">
					<thead>
						<tr>
							<th>region</th>
							<th>price</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="offer : ${regionSell}">
							<td><span th:text="${offer.regionName}"> region </span></td>
							<td><span th:text="${offer.formatedPrice}">
									price </span></td>
						</tr>
					</tbody>
				</table>
			</div>
			<div class="col" th:if="${regionBuy!=null && !regionBuy.isEmpty()}">
				<h3>regional buy</h3>
				<table class="table table-striped table-hover">
					<thead>
						<tr>
							<th>region</th>
							<th>price</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="offer : ${regionBuy}">
							<td><span th:text="${offer.regionName}"> region </span></td>
							<td><span th:text="${offer.formatedPrice}">
									price </span></td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
		<div class="row border">
			<div class="col" th:if="${@contractMarketAggregator.hasHistory(type.id)}">
				<h3>Trade history</h3>
				<a th:href="${@marketHistoryRestController.typeUrl(type)}">
					<img th:src="${@marketHistoryRestController.typeUrl(type)}" class="img-fluid" alt="history chart">
				</a>
			</div>
			<div class="col" th:if="${killsUrl!=null}">
				<h3>Kills</h3>
				<a th:href="${killsUrl}">
					<img th:src="${killsUrl}" class="img-fluid" alt="kills chart">
				</a>
			</div>
		</div>

		<div class="row border"
			th:if="${manufacturingProd!=null && !manufacturingProd.isEmpty()}">
			<h2>Manufacturing</h2>

			<div class="col">
				<h3>Products</h3>
				<table class="table table-striped table-hover">
					<thead>
						<tr>
							<th>type</th>
							<th>quantity</th>
							<th>probability</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="product : ${manufacturingProd}">
							<td><a th:href="${product.url}"
								th:text="${product.type.name}"> type </a></td>
							<td><span th:text="${product.quantity}"> quantity </span></td>
							<th><span th:text="${product.probability}">
									probability </span></th>
						</tr>
					</tbody>
				</table>
			</div>
			<div class="col">
				<h3>Materials</h3>
				<table class="table table-striped table-hover">
					<thead>
						<tr>
							<th>type</th>
							<th>quantity</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="material : ${manufacturingMats}">
							<td><a th:href="${material.url}"
								th:text="${material.type.name}"> type </a></td>
							<td><span th:text="${material.quantity}"> quantity </span></td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>

		<div class="row border"
			th:if="${reactionProd!=null && !reactionProd.isEmpty()}">
			<h2>Reaction</h2>
			<div class="col">
				<h3>Products</h3>
				<table class="table table-striped table-hover">
					<thead>
						<tr>
							<th>type</th>
							<th>quantity</th>
							<th>probability</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="product : ${reactionProd}">
							<td><a th:href="${product.url}"
								th:text="${product.type.name}"> type </a></td>
							<td><span th:text="${product.quantity}"> quantity </span></td>
							<th><span th:text="${product.probability}">
									probability </span></th>
						</tr>
					</tbody>
				</table>
			</div>
			<div class="col">
				<h3>Materials</h3>
				<table class="table table-striped table-hover">
					<thead>
						<tr>
							<th>type</th>
							<th>quantity</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="material : ${reactionMats}">
							<td><a th:href="${material.url}"
								th:text="${material.type.name}"> type </a></td>
							<td><span th:text="${material.quantity}"> quantity </span></td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>

		<div
			class="row border"
			th:if="${@typeService.variations(type).size()>1}">
			<h2>Variations</h2>
			<div class="col">
				<ul>
					<li th:each="variation : ${@typeService.variations(type)}">
						<a th:href="${@typeHTMLController.typeUrl(variation)}"
							th:text="${variation.name}"> type </a>
					</li>
				</ul>
			</div>
		</div>

		<div class="row border"
			th:if="${seeded !=null && !seeded.isEmpty()
						|| productOf !=null && !productOf.isEmpty()
						|| offers !=null && !offers.isEmpty()}">
			<div class="col" th:if="${seeded !=null && !seeded.isEmpty()}">
				<h3>NPC seed</h3>

				<table class="table table-striped table-hover">
					<thead>
						<tr>
							<th>space</th>
							<th>region</th>
							<th>system</th>
							<th>location</th>
							<th>price</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="seed : ${seeded}">
							<td><span th:text="${seed.space}"> space </span></td>
							<td><span th:text="${seed.region()}"> region </span></td>
							<td><span th:text="${seed.system()}"> system </span></td>
							<td><span th:text="${seed.location()}"> location </span></td>
							<td><span th:text="${seed.formatedPrice()}"> price </span></td>
						</tr>
					</tbody>
				</table>
			</div>

			<div class="col" th:if="${productOf !=null && !productOf.isEmpty()}">
				<h3>Produced by</h3>
				<table class="table table-striped table-hover">
					<thead>
						<tr>
							<th>type</th>
							<th>activity</th>
							<th>quantity</th>
							<th>probability</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="product : ${productOf}">
							<td><a th:href="${product.url}"
								th:text="${product.type.name}"> type </a></td>
							<td><span th:text="${product.activity}"> activity </span></td>
							<td><span th:text="${product.quantity}"> quantity </span></td>
							<td><span th:text="${product.probability}"></span></td>
						</tr>
					</tbody>
				</table>
			</div>

			<div class="col" th:if="${offers !=null && !offers.isEmpty()}">
				<h3>Loyalty Offers</h3>

				<table class="table table-striped table-hover">
					<thead>
						<tr>
							<th>offer</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="offer : ${offers}">
							<td><a th:href="${offer.url}" th:text="${offer.name}" /></td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>

		<div class="row border"
			th:if="${manufacturingUses !=null && !manufacturingUses.isEmpty() || reactionUses !=null && !reactionUses.isEmpty()}">
			<h2>Usage</h2>

			<div class="col"
				th:if="${manufacturingUses !=null && !manufacturingUses.isEmpty()}">
				<h3>Manufacturing</h3>

				<table class="table table-striped table-hover">
					<thead>
						<tr>
							<th>type</th>
							<th>quantity</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="use : ${manufacturingUses}">
							<td><a th:href="${use.url}" th:text="${use.type.name}">
									type </a></td>
							<td><span th:text="${use.quantity}"> quantity </span></td>
						</tr>
					</tbody>
				</table>
			</div>

			<div class="col"
				th:if="${reactionUses !=null && !reactionUses.isEmpty()}">
				<h3>Reaction</h3>

				<table class="table table-striped table-hover">
					<thead>
						<tr>
							<th>type</th>
							<th>quantity</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="use : ${reactionUses}">
							<td><a th:href="${use.url}" th:text="${use.type.name}">
									type </a></td>
							<td><span th:text="${use.quantity}"> quantity </span></td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
</body>
</html>